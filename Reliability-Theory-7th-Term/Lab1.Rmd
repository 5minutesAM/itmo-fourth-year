---
title: "Lab1"
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Вариант 8

![Рисунок 1. Исходные данные](Lab1/Givens.png)

## Первая схема

### Упрощение структуры

Параллельные и последовательные элементы могут быть заменены одним,
если выполнить преобразование функции работоспособности.

Основываясь на том, что работоспособность одного элемента определяется как $p(t)$, а отказ — $1 - p(t)$:

* Для $N$ **параллельных** элементов функция примет вид $1 - \prod_{i=1}^N (1 - p_i(t))$, в случае равнонадежных элементов $1 - (1 - p(t))^N$.
* Для $N$ **последовательных** элементов функция примет вид $\prod_{i=1}^N p_i(t)$, в случае равнонадежных элементов $p(t)^N$.

![Рисунок 2. Результат преобразований для первой схемы](Lab1/Simplify1.png)

### Составление формул расчета

Вероятность работоспобности $p(t)$ вычисляется как $p(t) = exp(-\lambda t)$. Считается, что $\lambda = 10^{-4}$ 1/ч.

```{r}
lambda <- 10^-4
p <- function(t) exp(-lambda*t)
q <- function(t) 1 - p(t)
```

Для схемы была получена следующая зависимость:

```{r}
p_all <- function(t) p(t) * (1 - (1 - p(t)^2)^3*(1 - p(t)^2*(1 - (1 - p(t))^2))^2)
```

При построении графиков зависимости от времени рассмотрим промежуток $t\in[0.1, 50000]$.

```{r}
t <- seq(0.1, 50000, 0.1)
plot(t, p_all(t), ylab="Вероятность работоспособности первой схемы", xlab="Время", type="l")
```

Рисунок 3. График зависимости вероятности работоспособности первой схемы от времени

## Вторая схема

### Упрощение структуры

Для второй схемы возможен лишь один шаг преобразований:

![Рисунок 4. Результат преобразований для второй схемы](Lab1/Simplify2.png)

### Метод декомпозиции

![Рисунок 5. Упрощенная вторая схема с условным обозначением элементов](Lab1/Decomp1.png)

Для сведения схемы к параллельно-последовательному соединению элементов применим последовательную декомпозицию,
выделив в качестве особых элементов *седьмой* и *восьмой*:

![Рисунок 6. Рассмотрение случаев работы и отказа седьмого элемента](Lab1/Decomp2.png)

![Рисунок 7. Рассмотрение случаев работы и отказа восьмого элемента при работе седьмого элемента](Lab1/Decomp3.png)

![Рисунок 8. Рассмотрение случаев работы и отказа восьмого элемента при отказе седьмого элемента](Lab1/Decomp4.png)

Построим график полученной зависимости:

```{r}
decomp_p7 <- function(t) {
  p8 <- {
    p2_3 <- 1 - (1 - p(t))^2
    p9_10 <- 1 - (1 - p(t))^2
    p4_5 <- 1 - (1 - p(t))^2
    p11_12 <- 1 - (1 - p(t))^2
    p(t) * (1 - (1 - p(t))*(1 - p2_3*p9_10)*(1 - p4_5*p11_12))
  }
  p8_inv <- {
    p2_3 <- 1 - (1 - p(t))^2
    p9_10 <- 1 - (1 - p(t))^2
    p4_5_11_12 <- 1 - (1 - p(t)^2)^2
    p(t) * (1 - (1 - p(t))*(1 - p2_3*p9_10)*(1 - p4_5_11_12))
  }
  p(t)*p8 + (1 - p(t))*p8_inv
}
decomp_p7_inv <- function(t) {
  p8 <- {
    p2_3_9_10 <- 1 - (1 - p(t)^2)^2
    p4_5 <- 1 - (1 - p(t))^2
    p11_12 <- 1 - (1 - p(t))^2
    p(t) * (1 - (1 - p(t))*(1 - p2_3_9_10)*(1 - p4_5*p11_12))
  }
  p8_inv <- {
    p2_3_9_10 <- 1 - (1 - p(t)^2)^2
    p4_5_11_12 <- 1 - (1 - p(t)^2)^2
    p(t) * (1 - (1 - p(t))*(1 - p2_3_9_10)*(1 - p4_5_11_12))
  }
  p(t)*p8 + (1 - p(t))*p8_inv
}
decomp <- function(t) p(t)*decomp_p7(t) + (1 - p(t))*decomp_p7_inv(t)

plot(t, decomp(t), ylab="Вероятность работоспособности второй схемы", xlab="Время", type="l")
```

Рисунок 9. График зависимости вероятности работоспособности второй схемы от времени (метод декомпозиции)

### Метод минимальных путей и сечений

Определим множество минимальных путей схемы (условные обозначения элементов представлены на рис. 5):

$$\{1,6\}, \{1,2,9\}, \{1,3,10\}, \{1,2,7,10\}, \{1,3,7,9\}, \{1,4,11\}, \{1,5,12\}, \{1,4,8,12\}, \{1,5,8,11\}$$

А также множество минимальных сечений:

$$\{1\}, \{2,3,4,5,6\}, \{9,10,11,12\}, \{6,2,7,10,4,8,12\}, \{6,9,7,3,11,8,5\}$$

Для получения оценки надежности сверху необходимо:

1. соединить элементы каждого минимального пути последовательно;
2. полученные цепочки элементов соединить параллельно.

![Рисунок 10. Параллельное соединение минимальных путей для второй схемы](Lab1/Paths1.png)

Для получения оценки надежности снизу необходимо:

1. соединить элементы каждого минимального сечения параллельно;
2. полученные цепочки элементов соединить последовательно.

![Рисунок 11. Последовательное соединение минимальных сечений для второй схемы](Lab1/Paths2.png)

Построим график полученных зависимостей:

```{r}
p6 <- function(t) p(t)^2
q6 <- function(t) 1 - p6(t)

Pc_max <- function(t) 1 - (1 - p(t)*p6(t))*(1 - p(t)^3)^4*(1 - p(t)^4)^4
Pc_min <- function(t) (1 - q(t))*(1 - q(t)^4*q6(t))*(1 - q(t)^4)*(1 - q6(t)*q(t)^6)^2

plot(t, Pc_max(t), col="blue", ylab="Вероятность работоспособности второй схемы", xlab="Время", type="l")
lines(t, Pc_min(t), col="red")
legend("topright", c("Оценка сверху","Оценка снизу"), fill=c("blue","red"))
```

Рисунок 12. График зависимости вероятности работоспособности второй схемы от времени (метод минимальных путей и сечений)

## Метод Литвака-Ушакова

Для реализации метода Литвака-Ушакова следует сформировать множества непересекающихся минимальных путей и сечений.

В рассматриваемой схеме непересекающиеся минимальные пути отсутствуют, а множество непересекающихся минимальных сечений равно:

$$\{\{1\}, \{2,3,4,5,6\}, \{9,10,11,12\}\}, \{6,2,7,10,4,8,12\}, \{6,9,7,3,11,8,5\}$$

В качестве нижней оценки надежности используется *наибольшее* значение из вероятностей работоспособности каждого варианта параллельного соединения минимальных путей.

В качестве верхней оценки надежности используется *наименьшее* значение из вероятностей работоспособности каждого варианта последовательного соединения минимальных сечений.

Построим график полученных зависимостей:

```{r}
P2c_min <- function(t) pmax(p(t)*p6(t), p(t)^3, p(t)^4)
P2c_max <- function(t) pmin({(1 - q(t))*(1 - q(t)^4*q6(t))*(1 - q(t)^4)}, {1 - (q6(t)*q(t)^6)})

plot(t, P2c_max(t), col="blue", ylab="Вероятность работоспособности второй схемы", xlab="Время", type="l")
lines(t, P2c_min(t), col="red")
legend("topright", c("Оценка сверху","Оценка снизу"), fill=c("blue","red"))
```

Рисунок 13. График зависимости вероятности работоспособности второй схемы от времени (метод Литвака-Ушакова)

## Сравнение различных методов расчета

Построим сравнительный график результатов анализа для второй схемы:

```{r}
plot(t, decomp(t), col="darkgray", ylab="Вероятность работоспособности второй схемы", xlab="Время", type="l")
lines(t, Pc_max(t), col="orange")
lines(t, Pc_min(t), col="red")
lines(t, P2c_max(t), col="cyan")
lines(t, P2c_min(t), col="blue")
legend("topright", c("м. декомпозиции", "Оценка сверху, м. мин. путей и сеч.","Оценка снизу, м. мин. путей и сеч.", "Оценка сверху, м. Литвака-Ушакова", "Оценка снизу, м. Литвака-Ушакова"), fill=c("darkgray", "orange", "red", "cyan", "blue"))
```

Рисунок 14. График сравнения методов расчета вероятности работоспособности

## Вывод

В ходе выполнения работы произведен расчет надежности (зависимости вероятности работоспособности от времени)
схем методами сведения к параллельно-последовательному соединению элементов, декомпозиции, минимальных путей и сечений, Литвака-Ушакова.

Сравнительный анализ результатов позволяет заключить, что для сложных схем, которые не могут быть сведены к параллельно-последовательному соединению элементов,
наиболее точный результат достигается методом декомпозиции, применение которого оказалось наиболее трудоемким. Метод минимальных путей и сечений и метод Литвака-Ушакова
более просты в расчетах, но приводят к переоценке или недооценке надежности системы соответственно.
